<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SmartDoc — NDi Intelligence Engine</title>
<meta name="description" content="SmartDoc by Network Designs, Inc. — Client-side document serialization for AI-ready corpus generation.">
<link rel="icon" href="https://netdes.com/wp-content/uploads/logo-header.png" type="image/png">

<!-- Fonts: Nunito Sans (closest free match to Avenir) + DM Mono for data -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,300;0,6..12,400;0,6..12,600;0,6..12,700;0,6..12,800;0,6..12,900;1,6..12,400&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">

<!-- Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<style>
  /* ===== NDI BRAND TOKENS (from brand guide) ===== */
  :root {
    --n-blue: #022640;
    --n-blue-deep: #011a2e;
    --d-blue: #07B0E8;
    --d-blue-hover: #05a0d4;
    --d-blue-glow: rgba(7,176,232,0.15);
    --d-blue-glow-strong: rgba(7,176,232,0.35);
    --x-blue: #003867;
    --grey-1: #F1F2F2;
    --white: #FFFFFF;
    --text-secondary: #8FA4B3;
    --text-tertiary: #5A7485;
    --surface-0: #011a2e;
    --surface-1: rgba(7,176,232,0.04);
    --surface-2: rgba(7,176,232,0.07);
    --border: rgba(7,176,232,0.12);
    --border-hover: rgba(7,176,232,0.3);
    --success: #00C9A7;
    --success-bg: rgba(0,201,167,0.08);
    --success-border: rgba(0,201,167,0.25);
    --danger: #FF6B6B;
    --radius: 8px;
    --radius-lg: 14px;
  }

  /* ===== RESET & BASE ===== */
  *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

  body {
    background: var(--n-blue-deep);
    color: var(--white);
    font-family: 'Nunito Sans', -apple-system, sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
    line-height: 1.55;
    -webkit-font-smoothing: antialiased;
  }

  /* ===== AMBIENT BACKGROUND ===== */
  body::before {
    content: '';
    position: fixed; inset: 0;
    background:
      radial-gradient(ellipse 80% 60% at 10% 20%, rgba(7,176,232,0.06) 0%, transparent 60%),
      radial-gradient(ellipse 60% 50% at 90% 80%, rgba(0,56,103,0.1) 0%, transparent 60%),
      radial-gradient(ellipse 40% 30% at 50% 0%, rgba(7,176,232,0.04) 0%, transparent 50%);
    pointer-events: none;
    z-index: 0;
  }

  /* ===== GRID OVERLAY (Palantir-style subtle grid) ===== */
  body::after {
    content: '';
    position: fixed; inset: 0;
    background-image:
      linear-gradient(rgba(7,176,232,0.02) 1px, transparent 1px),
      linear-gradient(90deg, rgba(7,176,232,0.02) 1px, transparent 1px);
    background-size: 60px 60px;
    pointer-events: none;
    z-index: 0;
  }

  .app { position: relative; z-index: 1; }

  /* ===== TOPBAR ===== */
  .topbar {
    display: flex; align-items: center; justify-content: space-between;
    padding: 16px 32px;
    border-bottom: 1px solid var(--border);
    backdrop-filter: blur(20px);
    background: rgba(1,26,46,0.8);
    position: sticky; top: 0; z-index: 100;
  }
  .topbar-left { display: flex; align-items: center; gap: 20px; }
  .ndi-logo { height: 32px; opacity: 0.95; }
  .topbar-divider { width: 1px; height: 24px; background: var(--border); }
  .topbar-product {
    font-size: 15px; font-weight: 900; letter-spacing: 1.5px;
    text-transform: uppercase; color: var(--d-blue);
  }
  .topbar-right { display: flex; align-items: center; gap: 20px; }
  .status-badge {
    display: flex; align-items: center; gap: 6px;
    font-family: 'DM Mono', monospace; font-size: 11px;
    color: var(--success); letter-spacing: 0.5px;
  }
  .status-dot {
    width: 6px; height: 6px; border-radius: 50%;
    background: var(--success);
    box-shadow: 0 0 8px var(--success);
    animation: pulse-dot 2s ease-in-out infinite;
  }
  @keyframes pulse-dot {
    0%, 100% { opacity: 1; box-shadow: 0 0 8px var(--success); }
    50% { opacity: 0.5; box-shadow: 0 0 4px var(--success); }
  }
  .version-tag {
    font-family: 'DM Mono', monospace; font-size: 10px;
    color: var(--text-tertiary); letter-spacing: 0.8px;
  }
  .btn-linkedin {
    display: inline-flex; align-items: center; gap: 6px;
    padding: 7px 14px; border-radius: 6px;
    background: #0A66C2; color: #fff;
    font-family: 'Nunito Sans', sans-serif;
    font-size: 12px; font-weight: 700; letter-spacing: 0.3px;
    text-decoration: none; transition: all 0.2s;
  }
  .btn-linkedin:hover {
    background: #004182;
    box-shadow: 0 2px 12px rgba(10,102,194,0.4);
    transform: translateY(-1px);
  }
  .btn-linkedin-logo { height: 16px; opacity: 0.95; }
  .btn-linkedin-divider {
    width: 1px; height: 14px; background: rgba(255,255,255,0.3);
  }

  /* ===== HERO ===== */
  .hero {
    text-align: center; padding: 64px 32px 48px;
    animation: fade-up 0.8s ease-out;
  }
  .hero-eyebrow {
    font-family: 'DM Mono', monospace; font-size: 11px;
    color: var(--d-blue); letter-spacing: 3px; text-transform: uppercase;
    margin-bottom: 16px;
  }
  .hero h1 {
    font-size: clamp(28px, 4vw, 48px); font-weight: 900;
    color: var(--white); letter-spacing: -0.5px; line-height: 1.15;
    margin-bottom: 14px;
  }
  .hero h1 span { color: var(--d-blue); }
  .hero-sub {
    font-size: 16px; color: var(--text-secondary); max-width: 560px;
    margin: 0 auto; line-height: 1.6;
  }

  /* ===== METRICS BAR ===== */
  .metrics-bar {
    display: flex; justify-content: center; gap: 48px;
    padding: 24px 32px;
    border-top: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
    margin: 0 32px;
    animation: fade-up 0.8s ease-out 0.1s both;
  }
  .metric { text-align: center; }
  .metric-value {
    font-family: 'DM Mono', monospace; font-size: 18px;
    font-weight: 500; color: var(--white); letter-spacing: 1px;
  }
  .metric-label {
    font-size: 10px; color: var(--text-tertiary);
    text-transform: uppercase; letter-spacing: 1.5px; margin-top: 4px;
  }

  /* ===== MAIN CONTENT ===== */
  .main { max-width: 960px; margin: 0 auto; padding: 48px 24px 80px; }

  /* ===== DROP ZONE ===== */
  .drop-zone {
    position: relative;
    border: 1.5px dashed var(--border-hover);
    border-radius: var(--radius-lg);
    padding: 60px 32px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    background: var(--surface-1);
    overflow: hidden;
    animation: fade-up 0.8s ease-out 0.2s both;
  }
  .drop-zone::before {
    content: ''; position: absolute; inset: 0;
    border-radius: var(--radius-lg);
    background: radial-gradient(ellipse at center, var(--d-blue-glow) 0%, transparent 70%);
    opacity: 0; transition: opacity 0.4s;
  }
  .drop-zone:hover, .drop-zone.dragover {
    border-color: var(--d-blue);
    background: var(--surface-2);
  }
  .drop-zone:hover::before, .drop-zone.dragover::before { opacity: 1; }
  .drop-zone input {
    position: absolute; inset: 0; opacity: 0; cursor: pointer; z-index: 2;
  }
  .drop-icon {
    position: relative; z-index: 1;
    width: 56px; height: 56px; margin: 0 auto 20px;
    border-radius: 12px;
    background: var(--surface-2);
    border: 1px solid var(--border);
    display: flex; align-items: center; justify-content: center;
    transition: all 0.3s;
  }
  .drop-zone:hover .drop-icon {
    border-color: var(--d-blue);
    box-shadow: 0 0 20px var(--d-blue-glow);
  }
  .drop-icon svg { width: 24px; height: 24px; }
  .drop-title {
    position: relative; z-index: 1;
    font-size: 16px; font-weight: 700; color: var(--white); margin-bottom: 6px;
  }
  .drop-sub {
    position: relative; z-index: 1;
    font-size: 13px; color: var(--text-tertiary);
  }
  .drop-formats {
    position: relative; z-index: 1;
    display: flex; gap: 8px; justify-content: center; margin-top: 20px;
    flex-wrap: wrap;
  }
  .format-chip {
    font-family: 'DM Mono', monospace; font-size: 11px;
    padding: 6px 14px; border-radius: 5px;
    background: rgba(7,176,232,0.1); border: 1px solid rgba(7,176,232,0.25);
    color: var(--d-blue); letter-spacing: 0.5px; font-weight: 500;
  }

  /* ===== FILE LIST ===== */
  .file-list { margin-top: 20px; }
  .file-item {
    display: flex; align-items: center; justify-content: space-between;
    padding: 12px 16px; margin-bottom: 4px;
    background: var(--surface-1);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    transition: all 0.2s;
    animation: fade-up 0.25s ease-out;
  }
  .file-item:hover { border-color: var(--border-hover); }
  .file-info { display: flex; align-items: center; gap: 12px; min-width: 0; }
  .file-ext {
    font-family: 'DM Mono', monospace; font-size: 9px; font-weight: 500;
    padding: 3px 7px; border-radius: 3px; letter-spacing: 0.8px;
    background: var(--surface-2); border: 1px solid var(--border);
    color: var(--d-blue); text-transform: uppercase; flex-shrink: 0;
  }
  .file-name {
    font-size: 13px; font-weight: 600; color: var(--white);
    overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
  }
  .file-meta { display: flex; align-items: center; gap: 12px; flex-shrink: 0; }
  .file-size {
    font-family: 'DM Mono', monospace; font-size: 11px; color: var(--text-tertiary);
  }
  .file-remove {
    width: 24px; height: 24px; border-radius: 4px;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; color: var(--text-tertiary);
    transition: all 0.15s; border: none; background: transparent;
    font-size: 14px; font-family: inherit;
  }
  .file-remove:hover { color: var(--danger); background: rgba(255,107,107,0.1); }

  /* ===== STAGED INFO ===== */
  .staged-bar {
    display: none;
    justify-content: space-between; align-items: center;
    margin-top: 16px; padding: 14px 18px;
    background: var(--surface-1);
    border: 1px solid var(--border);
    border-radius: var(--radius);
  }
  .staged-bar.visible { display: flex; }
  .staged-text {
    font-family: 'DM Mono', monospace; font-size: 12px; color: var(--text-secondary);
  }
  .staged-count { color: var(--d-blue); font-weight: 500; }

  /* ===== BUTTON ===== */
  .btn-process {
    width: 100%; height: 54px; margin-top: 20px;
    border: none; border-radius: var(--radius);
    font-family: 'Nunito Sans', sans-serif;
    font-size: 13px; font-weight: 800; letter-spacing: 2px;
    text-transform: uppercase; cursor: pointer;
    color: var(--white);
    background: linear-gradient(135deg, var(--d-blue), var(--x-blue));
    position: relative; overflow: hidden;
    transition: all 0.3s;
  }
  .btn-process::before {
    content: ''; position: absolute; inset: 0;
    background: linear-gradient(135deg, var(--d-blue-hover), var(--d-blue));
    opacity: 0; transition: opacity 0.3s;
  }
  .btn-process:hover::before { opacity: 1; }
  .btn-process:hover {
    box-shadow: 0 4px 24px rgba(7,176,232,0.3), 0 0 60px rgba(7,176,232,0.1);
    transform: translateY(-1px);
  }
  .btn-process:disabled {
    opacity: 0.25; cursor: not-allowed; transform: none;
    box-shadow: none;
  }
  .btn-process:disabled::before { display: none; }
  .btn-process span { position: relative; z-index: 1; }

  /* ===== PROGRESS ===== */
  .progress-section { display: none; margin-top: 24px; }
  .progress-section.visible { display: block; animation: fade-up 0.3s ease-out; }
  .progress-label {
    font-family: 'DM Mono', monospace; font-size: 11px;
    color: var(--text-tertiary); margin-bottom: 10px; letter-spacing: 0.5px;
  }
  .progress-track {
    height: 3px; background: var(--surface-2); border-radius: 2px; overflow: hidden;
  }
  .progress-fill {
    height: 100%; width: 0%; border-radius: 2px;
    background: linear-gradient(90deg, var(--d-blue), var(--success));
    transition: width 0.3s ease;
  }

  /* ===== RESULT ===== */
  .result-section { display: none; margin-top: 28px; }
  .result-section.visible { display: block; animation: fade-up 0.5s ease-out; }
  .result-banner {
    display: flex; align-items: center; gap: 12px;
    padding: 16px 20px;
    background: var(--success-bg);
    border: 1px solid var(--success-border);
    border-radius: var(--radius);
    margin-bottom: 16px;
  }
  .result-dot {
    width: 8px; height: 8px; border-radius: 50%;
    background: var(--success);
    box-shadow: 0 0 10px var(--success);
    flex-shrink: 0;
  }
  .result-text {
    font-size: 13px; font-weight: 700; color: var(--success);
    letter-spacing: 0.5px;
  }
  .result-actions { display: flex; gap: 10px; flex-wrap: wrap; }

  .btn-action {
    display: inline-flex; align-items: center; gap: 8px;
    padding: 0 20px; height: 44px;
    border-radius: var(--radius);
    font-family: 'Nunito Sans', sans-serif;
    font-size: 12px; font-weight: 700; letter-spacing: 1px;
    text-transform: uppercase; cursor: pointer;
    transition: all 0.2s;
  }
  .btn-action-primary {
    background: var(--d-blue); color: var(--white); border: none;
  }
  .btn-action-primary:hover {
    background: var(--d-blue-hover);
    box-shadow: 0 2px 16px rgba(7,176,232,0.25);
  }
  .btn-action-download {
    background: var(--grey-1); color: var(--n-blue); border: none;
    font-weight: 800; font-size: 13px; height: 48px; padding: 0 28px;
  }
  .btn-action-download:hover {
    background: #fff; color: var(--n-blue-deep);
    box-shadow: 0 4px 20px rgba(241,242,242,0.3);
    transform: translateY(-1px);
  }
  .btn-action-ghost {
    background: transparent; color: var(--d-blue);
    border: 1px solid var(--border-hover);
  }
  .btn-action-ghost:hover {
    background: var(--surface-2); border-color: var(--d-blue);
  }

  /* ===== PROMPT SECTION ===== */
  .prompt-section {
    margin-top: 40px; padding-top: 32px;
    border-top: 1px solid var(--border);
    animation: fade-up 0.8s ease-out 0.3s both;
  }
  .section-header {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 16px; flex-wrap: wrap; gap: 8px;
  }
  .section-title {
    font-size: 12px; font-weight: 700; color: var(--text-secondary);
    text-transform: uppercase; letter-spacing: 1.5px;
  }
  .section-badge {
    font-family: 'DM Mono', monospace; font-size: 9px;
    padding: 3px 8px; border-radius: 3px;
    background: var(--success-bg); border: 1px solid var(--success-border);
    color: var(--success); letter-spacing: 0.8px;
  }
  .prompt-box {
    background: var(--surface-0);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 20px;
    font-family: 'DM Mono', monospace; font-size: 11.5px;
    color: var(--text-tertiary); line-height: 1.7;
    max-height: 180px; overflow-y: auto;
    white-space: pre-wrap; word-break: break-word;
  }
  .prompt-box::-webkit-scrollbar { width: 4px; }
  .prompt-box::-webkit-scrollbar-track { background: transparent; }
  .prompt-box::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

  .super-prompt-hint {
    font-family: 'DM Mono', monospace; font-size: 11px;
    color: var(--text-tertiary); letter-spacing: 0.3px;
  }

  /* ===== WORKS WITH MARQUEE ===== */
  .works-with {
    margin-top: 24px; padding-top: 20px;
    border-top: 1px solid var(--border);
  }
  .works-with-label {
    font-family: 'DM Mono', monospace; font-size: 10px;
    color: var(--text-tertiary); text-transform: uppercase;
    letter-spacing: 1.5px; margin-bottom: 14px;
  }
  .marquee-mask {
    overflow: hidden;
    -webkit-mask-image: linear-gradient(90deg, transparent 0%, black 8%, black 92%, transparent 100%);
    mask-image: linear-gradient(90deg, transparent 0%, black 8%, black 92%, transparent 100%);
  }
  .marquee-track {
    display: flex; gap: 10px;
    width: max-content;
    animation: marquee-scroll 35s linear infinite;
  }
  .marquee-track:hover { animation-play-state: paused; }
  @keyframes marquee-scroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }
  .ai-logo-chip {
    display: inline-flex; align-items: center; gap: 7px;
    padding: 8px 14px; border-radius: 6px;
    background: var(--surface-1);
    border: 1px solid var(--border);
    font-size: 11px; font-weight: 600; color: var(--text-secondary);
    transition: all 0.2s;
    white-space: nowrap; flex-shrink: 0;
  }
  .marquee-track:hover .ai-logo-chip { border-color: var(--border-hover); }
  .ai-logo-chip img {
    width: 16px; height: 16px; border-radius: 3px;
    object-fit: contain;
  }

  /* ===== NDi SUPER PROMPT™ ===== */
  .super-prompt-section {
    margin-top: 48px; padding-top: 40px;
    border-top: 1px solid var(--border);
    animation: fade-up 0.8s ease-out 0.3s both;
  }
  .super-prompt-header {
    display: flex; align-items: center; gap: 16px;
    margin-bottom: 24px; justify-content: space-between;
  }
  .super-prompt-header-left {
    display: flex; align-items: center; gap: 16px;
  }
  .super-prompt-icon {
    width: 52px; height: 52px; border-radius: 12px;
    background: linear-gradient(135deg, rgba(7,176,232,0.15), rgba(0,56,103,0.2));
    border: 1px solid var(--border-hover);
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
  }
  .super-prompt-title {
    font-size: 22px; font-weight: 900; color: var(--white);
    letter-spacing: -0.3px;
  }
  .super-prompt-sub {
    font-size: 13px; color: var(--text-secondary); margin-top: 2px;
  }
  .super-prompt-card {
    position: relative;
    background: var(--surface-0);
    border: 1px solid var(--border-hover);
    border-radius: var(--radius-lg);
    overflow: hidden;
  }
  .super-prompt-glow {
    position: absolute; top: 0; left: 0; right: 0; height: 2px;
    background: linear-gradient(90deg, transparent, var(--d-blue), var(--success), var(--d-blue), transparent);
    background-size: 200% 100%;
    animation: glow-sweep 4s ease-in-out infinite;
  }
  @keyframes glow-sweep {
    0%, 100% { background-position: -200% 0; }
    50% { background-position: 200% 0; }
  }
  .super-prompt-content {
    padding: 24px;
    font-family: 'DM Mono', monospace; font-size: 12px;
    color: var(--text-secondary); line-height: 1.8;
    max-height: 340px; overflow-y: auto;
    white-space: pre-wrap; word-break: break-word;
  }
  .super-prompt-content::-webkit-scrollbar { width: 4px; }
  .super-prompt-content::-webkit-scrollbar-track { background: transparent; }
  .super-prompt-content::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }
  .super-prompt-actions {
    display: flex; align-items: center; gap: 16px;
    margin-top: 16px; flex-wrap: wrap;
  }
  .btn-super {
    padding: 0 28px !important; height: 48px !important;
    font-size: 13px !important;
    box-shadow: 0 0 20px rgba(7,176,232,0.15);
  }
  .btn-super:hover {
    box-shadow: 0 0 30px rgba(7,176,232,0.3) !important;
  }
  .super-prompt-hint {
    font-family: 'DM Mono', monospace; font-size: 11px;
    color: var(--text-tertiary); letter-spacing: 0.3px;
  }

  /* ===== FOOTER ===== */
  .footer {
    text-align: center; padding: 32px;
    font-size: 11px; color: var(--text-tertiary);
    letter-spacing: 0.5px; line-height: 2;
  }
  .footer a { color: var(--d-blue); text-decoration: none; }
  .footer a:hover { text-decoration: underline; }

  /* ===== ANIMATIONS ===== */
  @keyframes fade-up {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* ===== TOAST ===== */
  .toast {
    position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%) translateY(80px);
    padding: 12px 24px; border-radius: var(--radius);
    background: var(--x-blue); border: 1px solid var(--border-hover);
    color: var(--white); font-size: 13px; font-weight: 600;
    box-shadow: 0 8px 32px rgba(0,0,0,0.4);
    transition: transform 0.3s ease, opacity 0.3s ease;
    opacity: 0; z-index: 200;
  }
  .toast.visible { transform: translateX(-50%) translateY(0); opacity: 1; }

  /* ===== RESPONSIVE ===== */
  @media (max-width: 600px) {
    .topbar { padding: 12px 16px; gap: 12px; }
    .topbar-product { font-size: 12px; }
    .hero { padding: 40px 20px 32px; }
    .hero-sub { font-size: 14px; }
    .metrics-bar { gap: 20px; margin: 0 16px; flex-wrap: wrap; padding: 20px 16px; }
    .main { padding: 32px 16px 60px; }
    .drop-zone { padding: 40px 20px; }
    .result-actions { flex-direction: column; }
    .btn-action { width: 100%; justify-content: center; }
    .section-header { flex-direction: column; align-items: flex-start; }
  }
</style>
</head>
<body>
<div class="app">

  <!-- ===== TOPBAR ===== -->
  <div class="topbar">
    <div class="topbar-left">
      <a href="https://www.linkedin.com/company/network-designs-inc-/" target="_blank"><img src="https://netdes.com/wp-content/uploads/logo-header.png" alt="NDi — Network Designs, Inc." class="ndi-logo"></a>
      <div class="topbar-divider"></div>
      <div class="topbar-product">SmartDoc</div>
    </div>
    <div class="topbar-right">
      <div class="status-badge"><div class="status-dot"></div>OPERATIONAL</div>
      <div class="version-tag">v3.0 · LOCAL PROCESSING</div>
      <a href="https://www.linkedin.com/company/network-designs-inc-/" target="_blank" class="btn-linkedin"><img src="https://netdes.com/wp-content/uploads/logo-header.png" alt="NDi" class="btn-linkedin-logo"><span class="btn-linkedin-divider"></span><svg width="14" height="14" viewBox="0 0 24 24" fill="#fff"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>NDi LinkedIn</a>
    </div>
  </div>

  <!-- ===== HERO ===== -->
  <div class="hero">
    <div class="hero-eyebrow">Document Intelligence</div>
    <h1>Serialize. Compress. <span>Deploy.</span></h1>
    <p class="hero-sub">
      Transform unstructured documents into a single AI-ready corpus.
      Everything runs in your browser — <strong style="color:var(--white)">nothing leaves your machine.</strong>
    </p>
  </div>

  <!-- ===== METRICS BAR ===== -->
  <div class="metrics-bar">
    <div class="metric">
      <div class="metric-value"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="vertical-align:-2px;margin-right:4px;color:var(--success)"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" stroke-linecap="round" stroke-linejoin="round"/></svg>100%</div>
      <div class="metric-label">Local &amp; Secure</div>
    </div>
    <div class="metric">
      <div class="metric-value">XML</div>
      <div class="metric-label">Output Format</div>
    </div>
    <div class="metric">
      <div class="metric-value">UTF-8</div>
      <div class="metric-label">Encoding</div>
    </div>
    <div class="metric">
      <div class="metric-value">0ms</div>
      <div class="metric-label">Server Latency</div>
    </div>
  </div>

  <!-- ===== MAIN ===== -->
  <div class="main">

    <!-- DROP ZONE -->
    <div class="drop-zone" id="dropZone">
      <input type="file" id="fileInput" multiple accept=".pdf,.docx,.doc,.pptx,.ppt,.xlsx,.xls,.txt,.csv">
      <div class="drop-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="color:var(--d-blue)">
          <path d="M12 16V4m0 0L8 8m4-4l4 4" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M2 17l.621 2.485A2 2 0 004.561 21h14.878a2 2 0 001.94-1.515L22 17" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <div class="drop-title">Drop documents here or click to browse</div>
      <div class="drop-sub">Your files never leave this browser</div>
      <div class="drop-formats">
        <span class="format-chip">PDF .pdf</span>
        <span class="format-chip">DOCX .docx</span>
        <span class="format-chip">PPTX .pptx</span>
        <span class="format-chip">XLSX .xlsx</span>
        <span class="format-chip">CSV .csv</span>
        <span class="format-chip">TXT .txt</span>
      </div>
    </div>

    <!-- FILE LIST -->
    <div class="file-list" id="fileList"></div>

    <!-- STAGED BAR -->
    <div class="staged-bar" id="stagedBar">
      <div class="staged-text"><span class="staged-count" id="stagedCount">0</span> documents staged · <span id="stagedSize">0</span> KB</div>
    </div>

    <!-- PROCESS BUTTON -->
    <button class="btn-process" id="processBtn" disabled onclick="beginProcess()">
      <span>Begin Serialization</span>
    </button>

    <!-- PROGRESS -->
    <div class="progress-section" id="progressSection">
      <div class="progress-label" id="progressLabel">Initializing...</div>
      <div class="progress-track"><div class="progress-fill" id="progressFill"></div></div>
    </div>

    <!-- RESULT -->
    <div class="result-section" id="resultSection">
      <div class="result-banner">
        <div class="result-dot"></div>
        <div class="result-text" id="resultText">Complete</div>
      </div>
      <div class="result-actions">
        <button class="btn-action btn-action-download" onclick="downloadCorpus()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 4v12m0 0l-4-4m4 4l4-4M2 17l.621 2.485A2 2 0 004.561 21h14.878a2 2 0 001.94-1.515L22 17" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Download SmartDoc (.txt)
        </button>
        <button class="btn-action btn-action-ghost" onclick="copyCorpus()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" stroke-linecap="round"/></svg>
          Copy to Clipboard
        </button>
      </div>
    </div>

    <!-- NDi SUPER PROMPT™ -->
    <div class="super-prompt-section">
      <div class="super-prompt-header">
        <div class="super-prompt-header-left">
          <div class="super-prompt-icon">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="color:var(--d-blue)">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div>
            <div class="super-prompt-title">NDi Super Prompt™</div>
            <div class="super-prompt-sub">Paste before any prompt. Any model. Instant overdrive.</div>
          </div>
        </div>
        <button class="btn-action btn-action-primary btn-super" onclick="copySuperPrompt()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" stroke-linecap="round"/></svg>
          Copy Super Prompt
        </button>
      </div>

      <div class="super-prompt-card">
        <div class="super-prompt-glow"></div>
        <div class="super-prompt-content" id="superPromptBox"></div>
      </div>


      <div class="works-with">
        <div class="works-with-label">Works with</div>
        <div class="marquee-mask">
          <div class="marquee-track">
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11" fill="#10a37f"/><path d="M12 7v5l3 3" stroke="#fff" stroke-width="2" fill="none" stroke-linecap="round"/></svg>ChatGPT</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#d97706"/><path d="M7 8h10M7 12h7M7 16h10" stroke="#fff" stroke-width="1.8" stroke-linecap="round"/></svg>Claude</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><polygon points="12,2 22,8 22,16 12,22 2,16 2,8" fill="#4285f4"/><circle cx="12" cy="12" r="4" fill="#fff"/></svg>Gemini</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#1a7f64"/><path d="M6 12h12M12 6v12" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg>Perplexity</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11" fill="#0668E1"/><path d="M8 10c0-3 8-3 8 0s-8 5-8 8h8" stroke="#fff" stroke-width="2" fill="none" stroke-linecap="round"/></svg>Meta AI</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#f54e00"/><path d="M4 12h16M12 4l-8 16M12 4l8 16" stroke="#fff" stroke-width="1.5" fill="none" stroke-linecap="round"/></svg>Mistral</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#7B61FF"/><path d="M6 17L12 7l6 10" stroke="#fff" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>Copilot</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#000"/><path d="M6 18L18 6M6 6l12 12" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg>Grok</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#4D6BFE"/><path d="M7 17V7h3l4 6V7h3v10h-3l-4-6v6z" fill="#fff"/></svg>DeepSeek</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#39594D"/><path d="M6 12a6 6 0 0112 0 6 6 0 01-12 0z" stroke="#D18EE2" stroke-width="2" fill="none"/></svg>Cohere</div>
            <!-- duplicate set for seamless loop -->
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11" fill="#10a37f"/><path d="M12 7v5l3 3" stroke="#fff" stroke-width="2" fill="none" stroke-linecap="round"/></svg>ChatGPT</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#d97706"/><path d="M7 8h10M7 12h7M7 16h10" stroke="#fff" stroke-width="1.8" stroke-linecap="round"/></svg>Claude</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><polygon points="12,2 22,8 22,16 12,22 2,16 2,8" fill="#4285f4"/><circle cx="12" cy="12" r="4" fill="#fff"/></svg>Gemini</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#1a7f64"/><path d="M6 12h12M12 6v12" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg>Perplexity</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11" fill="#0668E1"/><path d="M8 10c0-3 8-3 8 0s-8 5-8 8h8" stroke="#fff" stroke-width="2" fill="none" stroke-linecap="round"/></svg>Meta AI</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#f54e00"/><path d="M4 12h16M12 4l-8 16M12 4l8 16" stroke="#fff" stroke-width="1.5" fill="none" stroke-linecap="round"/></svg>Mistral</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#7B61FF"/><path d="M6 17L12 7l6 10" stroke="#fff" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>Copilot</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#000"/><path d="M6 18L18 6M6 6l12 12" stroke="#fff" stroke-width="2" stroke-linecap="round"/></svg>Grok</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#4D6BFE"/><path d="M7 17V7h3l4 6V7h3v10h-3l-4-6v6z" fill="#fff"/></svg>DeepSeek</div>
            <div class="ai-logo-chip"><svg width="16" height="16" viewBox="0 0 24 24"><rect width="24" height="24" rx="4" fill="#39594D"/><path d="M6 12a6 6 0 0112 0 6 6 0 01-12 0z" stroke="#D18EE2" stroke-width="2" fill="none"/></svg>Cohere</div>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- FOOTER -->
  <div class="footer">
    © 2026 <a href="https://www.linkedin.com/company/network-designs-inc-/" target="_blank">Network Designs, Inc.</a> — SmartDoc Intelligence Engine
    <br>
    <a href="https://netdes.com/privacy-policy/" target="_blank">Privacy Policy</a> · <a href="https://netdes.com/terms-and-conditions/" target="_blank">Terms of Service</a>
  </div>

</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<script>
// ========== SYSTEM PROMPT (baked into every SmartDocs output — invisible to user) ==========
const SYSTEM_PROMPT = `<SmartDocs_Instructions>
You have been given a SmartDocs Master Corpus below. This is your primary knowledge base.

Rules:
- Think step by step. Be thorough. Take your time before answering.
- ONLY use information from the corpus below. If it's not in here, say "not found in the provided documents."
- Cite the source filename from <Meta> tags when referencing specific information.
- Synthesize across multiple documents when a question spans topics.
- Never fabricate, hallucinate, or guess. Precision over speed.
- When summarizing, preserve key details — do not over-compress.
- If asked to compare documents, create structured side-by-side analysis.
- Default to being exhaustive rather than brief unless told otherwise.

Corpus format: <SmartDocs_Library> → <Doc> → <Meta>(filename)</Meta> → <Body>(content)</Body>
</SmartDocs_Instructions>`;

// ========== NDi SUPER PROMPT™ (standalone — paste before any prompt) ==========
const SUPER_PROMPT = `[System: NDi_SuperPrompt™ — Cognitive Overdrive Protocol]
[Reasoning: Maximum | Depth: Exhaustive | Precision: Absolute]

Before responding, execute the following internal sequence:

<thinking>
PHASE 1 — DECONSTRUCT
- Parse the user's request into every atomic constraint, implicit and explicit.
- Identify the core objective, secondary goals, edge cases, and unstated assumptions.
- Flag ambiguities. Resolve them with the most useful interpretation.

PHASE 2 — DIVERGE
- Generate three fundamentally different solution approaches.
- Each must differ in methodology, not just wording.
- At least one approach must be unconventional.

PHASE 3 — STRESS TEST
- For each approach, identify the top 3 failure modes.
- Ask: Where does this break? What does this miss? What would an expert critique?
- Rank approaches by robustness, clarity, and completeness.

PHASE 4 — SYNTHESIZE
- Merge the strongest elements from all approaches into one final response.
- Eliminate redundancy. Maximize signal-to-noise ratio.
- Ensure every claim is defensible and every recommendation is actionable.
</thinking>

Response standards:
- Be thorough but never verbose. Every sentence must earn its place.
- Use precise language. Avoid filler, hedging, and unnecessary qualifiers.
- Structure for clarity: lead with the answer, then support with reasoning.
- If you don't know something, say so. Never fabricate.
- Think longer than you normally would. The extra cycles are worth it.
- Default to being the smartest, most useful version of yourself.

Now respond to the following:
`;

document.getElementById('superPromptBox').textContent = SUPER_PROMPT;

// ========== STATE ==========
let stagedFiles = [];
let masterCorpus = '';

// ========== DOM ==========
const dropZone = document.getElementById('dropZone');
const fileInput = document.getElementById('fileInput');
const fileListEl = document.getElementById('fileList');
const stagedBar = document.getElementById('stagedBar');
const processBtn = document.getElementById('processBtn');

// ========== DRAG & DROP ==========
dropZone.addEventListener('dragover', e => { e.preventDefault(); dropZone.classList.add('dragover'); });
dropZone.addEventListener('dragleave', () => dropZone.classList.remove('dragover'));
dropZone.addEventListener('drop', e => { e.preventDefault(); dropZone.classList.remove('dragover'); addFiles(e.dataTransfer.files); });
fileInput.addEventListener('change', e => addFiles(e.target.files));

function addFiles(list) {
  for (const f of list) {
    if (!stagedFiles.find(s => s.name === f.name && s.size === f.size)) stagedFiles.push(f);
  }
  renderFiles();
}

function removeFile(i) { stagedFiles.splice(i, 1); renderFiles(); }

function renderFiles() {
  fileListEl.innerHTML = stagedFiles.map((f, i) => {
    const ext = f.name.split('.').pop().toUpperCase();
    return `<div class="file-item">
      <div class="file-info">
        <span class="file-ext">${ext}</span>
        <span class="file-name">${f.name}</span>
      </div>
      <div class="file-meta">
        <span class="file-size">${(f.size/1024).toFixed(1)} KB</span>
        <button class="file-remove" onclick="removeFile(${i})">✕</button>
      </div>
    </div>`;
  }).join('');

  if (stagedFiles.length) {
    const totalKB = stagedFiles.reduce((s,f) => s + f.size, 0) / 1024;
    document.getElementById('stagedCount').textContent = stagedFiles.length;
    document.getElementById('stagedSize').textContent = totalKB.toFixed(1);
    stagedBar.classList.add('visible');
    processBtn.disabled = false;
  } else {
    stagedBar.classList.remove('visible');
    processBtn.disabled = true;
  }
  document.getElementById('resultSection').classList.remove('visible');
}

// ========== FILE PROCESSORS ==========
async function extractPDF(file) {
  const buf = await file.arrayBuffer();
  const pdf = await pdfjsLib.getDocument({ data: buf }).promise;
  let text = '';
  for (let i = 1; i <= pdf.numPages; i++) {
    const page = await pdf.getPage(i);
    const content = await page.getTextContent();
    text += content.items.map(it => it.str).join(' ') + '\n';
  }
  return text;
}

async function extractDOCX(file) {
  const buf = await file.arrayBuffer();
  return (await mammoth.extractRawText({ arrayBuffer: buf })).value;
}

async function extractPPTX(file) {
  const buf = await file.arrayBuffer();
  const zip = await JSZip.loadAsync(buf);
  let text = '';
  const slides = Object.keys(zip.files)
    .filter(n => /^ppt\/slides\/slide\d+\.xml$/.test(n))
    .sort((a,b) => parseInt(a.match(/\d+/)[0]) - parseInt(b.match(/\d+/)[0]));
  for (const sf of slides) {
    const xml = await zip.files[sf].async('text');
    const doc = new DOMParser().parseFromString(xml, 'application/xml');
    for (const t of doc.getElementsByTagName('a:t')) text += (t.textContent || '') + ' ';
    text += '\n';
  }
  return text;
}

async function extractXLSX(file) {
  const buf = await file.arrayBuffer();
  const wb = XLSX.read(buf, { type: 'array' });
  let text = '';
  for (const name of wb.SheetNames) {
    text += `[Sheet: ${name}]\n` + XLSX.utils.sheet_to_csv(wb.Sheets[name]) + '\n\n';
  }
  return text;
}

async function processFile(file) {
  const ext = file.name.split('.').pop().toLowerCase();
  try {
    if (ext === 'pdf') return await extractPDF(file);
    if (ext === 'docx' || ext === 'doc') return await extractDOCX(file);
    if (ext === 'pptx' || ext === 'ppt') return await extractPPTX(file);
    if (ext === 'xlsx' || ext === 'xls' || ext === 'csv') return await extractXLSX(file);
    if (ext === 'txt') return await file.text();
    return '[UNSUPPORTED FORMAT]';
  } catch (e) { return `[ERROR: ${e.message}]`; }
}

// ========== MAIN PROCESS ==========
async function beginProcess() {
  const progressSection = document.getElementById('progressSection');
  const progressFill = document.getElementById('progressFill');
  const progressLabel = document.getElementById('progressLabel');
  const resultSection = document.getElementById('resultSection');
  const resultText = document.getElementById('resultText');

  processBtn.disabled = true;
  progressSection.classList.add('visible');
  resultSection.classList.remove('visible');
  progressFill.style.width = '0%';

  // System prompt is PREPENDED to every output
  masterCorpus = SYSTEM_PROMPT + '\n\n<SmartDocs_Library>\n';

  for (let i = 0; i < stagedFiles.length; i++) {
    const f = stagedFiles[i];
    progressLabel.textContent = `Processing: ${f.name}`;
    const text = await processFile(f);
    masterCorpus += `\n<Doc>\n  <Meta>${esc(f.name)}</Meta>\n  <Body>\n${esc(text)}\n  </Body>\n</Doc>\n`;
    progressFill.style.width = `${((i+1)/stagedFiles.length*100).toFixed(0)}%`;
  }

  masterCorpus += '\n</SmartDocs_Library>';

  progressSection.classList.remove('visible');
  resultText.textContent = `${stagedFiles.length} document${stagedFiles.length > 1 ? 's' : ''} serialized — ${(new Blob([masterCorpus]).size/1024).toFixed(1)} KB corpus`;
  resultSection.classList.add('visible');
  processBtn.disabled = false;
}

function esc(s) { return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

// ========== ACTIONS ==========
function downloadCorpus() {
  const a = document.createElement('a');
  a.href = URL.createObjectURL(new Blob([masterCorpus], { type: 'text/plain' }));
  const d = new Date(); const mm = String(d.getMonth()+1).padStart(2,'0'); const dd = String(d.getDate()).padStart(2,'0'); const yy = String(d.getFullYear()).slice(-2);
  a.download = `NDi_SmartDoc_${mm}-${dd}-${yy}.txt`;
  a.click(); URL.revokeObjectURL(a.href);
  showToast('Corpus downloaded');
}

function copyCorpus() {
  navigator.clipboard.writeText(masterCorpus).then(() => showToast('Corpus copied to clipboard'));
}

function copySuperPrompt() {
  navigator.clipboard.writeText(SUPER_PROMPT).then(() => showToast('NDi Super Prompt™ copied — paste before any prompt'));
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg; t.classList.add('visible');
  setTimeout(() => t.classList.remove('visible'), 2400);
}

// ========== PDF.js Worker ==========
pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
</script>
</body>
</html>
